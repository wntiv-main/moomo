{
	"$schema": "https://json.schemastore.org/chrome-manifest",
	"manifest_version": 3,
	"name": "moomo",
	"version": "0.1",
	"description": "Moodle feature upgrades",
	"permissions": [
		"storage",
		"scripting",
		"declarativeNetRequestWithHostAccess"
	],
	"host_permissions": [
		"*://learn.canterbury.ac.nz/*",
		"*://preuc.canterbury.ac.nz/*",
		"*://*.csse.canterbury.ac.nz/*",
		"*://timetable.canterbury.ac.nz/*",
		"*://login.microsoftonline.com/*"
	],
	"web_accessible_resources": [
		{
			"resources": [
				"*.js",
				"filters.svg",
				"mathlive/*"
			],
			"matches": [
				"*://learn.canterbury.ac.nz/*",
				"*://preuc.canterbury.ac.nz/*",
				"*://*.csse.canterbury.ac.nz/*"
			]
		}
	],
	"content_scripts": [
		{
			"matches": [
				"*://learn.canterbury.ac.nz/*",
				"*://preuc.canterbury.ac.nz/*",
				"*://*.csse.canterbury.ac.nz/*"
			],
			"css": ["config/user.build.css"],
			"js": ["moodle_bootload.js"],
			"run_at": "document_start"
		}
	],
	"declarative_net_request": {
		"rule_resources": [
			{
				"id": "login_page",
				"enabled": true,
				"path": "login_redirect_rules.json"
			}
		]
	}
}
