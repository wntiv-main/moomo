{
	"name": "moomo",
	"type": "module",
	"scripts": {
		"dev": "export IS_PREACT=1 && bun clean:dev && (bun build:css:dev &) && bun bundle:dev && rspack --env dev -w -o build/",
		"build": "export IS_PREACT=1 && bun clean:build && mkdir dist/ && bun build:css && bun bundle && rspack -o dist/",
		"bundle": "cp -R src/static/* dist && rm dist/manifest.json && mv dist/manifest.production.json dist/manifest.json && mkdir dist/mathlive && cp -R node_modules/mathlive/fonts dist/mathlive",
		"bundle:dev": "ln -s src/static/ build && mkdir build/mathlive && cp -R node_modules/mathlive/fonts build/mathlive",
		"build:css": "bun run src/css/cli.ts src/static/config/user.css",
		"build:css:dev": "bun run src/css/cli.ts src/static/config/user.css -w src/static/config/user.css src/static/config/css/",
		"clean:build": "rm -rf dist/",
		"clean:dev": "(rm build || true) && rm -rf src/static/mathlive src/static/*.js src/static/*.map",
		"postinstall": "patch -sf node_modules/moodle-qtype_stack/amd/src/input.js patches/moodle-qtype_stack@5141eb0.patch || true"
	},
	"devDependencies": {
		"@eslint/js": "^9.21.0",
		"@rspack/cli": "^1.4.11",
		"@rspack/core": "^1.4.11",
		"@types/bun": "latest",
		"@types/chrome": "^0.0.308",
		"@types/jquery": "^3.5.31",
		"@types/js-beautify": "^1.14.3",
		"@types/mathjax": "^0.0.40",
		"@types/requirejs": "^2.1.37",
		"@types/yui": "^3.14.31",
		"ace-code": "^1.37.5",
		"bestzip": "^2.2.1",
		"eslint": "^9.21.0",
		"globals": "^16.0.0",
		"lightningcss": "^1.31.1",
		"lightningcss-cli": "^1.29.1",
		"moodle": "github:moodle/moodle",
		"moodle-qtype_stack": "github:maths/moodle-qtype_stack",
		"npm-run-all": "^4.1.5",
		"onchange": "^7.1.0",
		"typescript-eslint": "^8.24.1",
		"watcher": "^2.3.1"
	},
	"peerDependencies": {
		"typescript": "^5.7.3"
	},
	"dependencies": {
		"@excalidraw/excalidraw": "^0.18.0",
		"ace-linters": "^1.4.1",
		"dompurify": "^3.2.4",
		"highlight.js": "^11.10.0",
		"htm": "^3.1.1",
		"js-beautify": "^1.15.1",
		"jsxgraph": "^1.11.1",
		"marked": "^15.0.7",
		"marked-base-url": "^1.1.6",
		"marked-highlight": "^2.2.1",
		"mathlive": "^0.105.3",
		"monaco-editor": "^0.52.2",
		"preact": "^10.26.5",
		"react": "npm:@preact/compat",
		"react-dom": "npm:@preact/compat"
	},
	"patchedDependencies": {
		"asciimath@0.0.0": "patches/asciimath@0.0.0.patch",
		"@types/mathjax@0.0.40": "patches/@types%2Fmathjax@0.0.40.patch",
		"ace-linters@1.4.1": "patches/ace-linters@1.4.1.patch"
	}
}
